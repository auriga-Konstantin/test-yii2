# Test Rest Api
Для начала работы после распаковки архива необходимо подключить базу данных и запустить миграцию.
>DB по умолчанию<br>
>host=localhost<br>
>dbname=rest_api<br>
>username=root<br>
>password=<br>
 

> формат вывода данных JSON
##Routes

- GET /tasks — получить список задач с подзадачами
###Поля при выводе списка задач
> items — список задач (массив)
>> id — идентификатор задачи (число)<br>
>> name — название задачи (строка)<br>
>> description — описание задачи (строка)<br>
>> status — статус задачи (число)<br>
>> parent_id — идентификатор родительской задачи (число)<br>
>> date_add — время создания задачи (дата и время)<br>
>> date_modify — время изменения задачи (дата и время)<br>
>> subtasks — список подзадач (массив)<br>
>
> _links — список ссылок пагинации (объект)<br>
>> self — ссылка на текущую страницу (строка)<br>
>> first — ссылка на слудующую страницу (строка)<br>
>> last — ссылка на предыдущую страницу (строка)<br>
> 
> _meta — данные запроса
>> totalCount — общее количество элементов (число)<br>
>> pageCount — количество страниц (число)<br>
>> currentPage — текущая страница (число)<br>
>> perPage — количество элементов на странице (число)
____
- GET /tasks/{id} — получит конкретную задачу по идентификатору
###Поля при выводе одной задачи
> id — идентификатор задачи (число)<br>
> name — название задачи (строка)<br>
> description — описание задачи (строка)<br>
> status — статус задачи (число)<br>
> parent_id — подзадачи (массив задач)<br>
> date_add — время создания задачи (дата и время)<br>
> date_modify — время изменения задачи (дата и время)<br>
> subtasks — список подзадач (массив)
____
- POST /tasks — создание новой задачи
###Поля для создание новой задачи
> name — строка до 255 символов(обязательное поле)<br>
> description — строка (необязательное поле)<br>
> status — целое число (необязательное поле)<br>
> parent_id — целое число (необязательное поле)
###Ответ при успешном создании задачи
> id — идентификатор задачи (число)<br>
> name — название задачи (строка)<br>
> description — описание задачи (строка)<br>
> status — статус задачи (число)<br>
> parent_id — подзадачи (массив задач)<br>
> date_add — время создания задачи (дата и время)<br>
> date_modify — время изменения задачи (дата и время)<br>
> subtasks — список подзадач (массив)

____
- PATCH /tasks/{id} — изменения существующей задачи
###Поля для изменения существующей задачи
> name — строка до 255 символов(необязательное поле)<br>
> description — строка (необязательное поле)<br>
> status — целое число (необязательное поле)<br>
> parent_id — целое число (необязательное поле)
###Ответ при успешном изменении задачи
> id — идентификатор задачи (число)<br>
> name — название задачи (строка)<br>
> description — описание задачи (строка)<br>
> status — статус задачи (число)<br>
> parent_id — подзадачи (массив задач)<br>
> date_add — время создания задачи (дата и время)<br>
> date_modify — время изменения задачи (дата и время)<br>
> subtasks — список подзадач (массив)
____
- DELETE /tasks/{id} — удалить задачу и связанные подзадачи
###Ответ при успешном удалении задачи
> status — статус удаления (булево)<br>
> deleted_item_id — идентификатор удаленной задачи (число)

##Errors
###Ответ при ошибке
> name — название ошибки (строка)<br>
> message — описание ошибки (строка)<br>
> code — код ошибки (число)<br>
> status — код ответа сервера (число)<br>
> type — тип обработчика ошибки (строка)